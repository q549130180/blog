<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="{{ site.url }}/assets/js/plugins/jquery/jquery-2.1.4.min.js"></script>

<script>
  window.jQuery || document.write('<script src="{{ site.url }}/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')
</script>

<script>
    var base_url = "{{ site.url }}";
</script>


<!-- Bootstrap Core JavaScript -->
<!--<script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
<script src="{{ site.url }}/assets/js/plugins/bootstrap-3.3.7-dist/js/bootstrap.js"></script>

<script src="{{ site.url }}/assets/js/scripts.min.js"></script>
<!-- search js -->
<script src="{{ site.url }}/assets/js/plugins/jekyll-search.min.js"></script>
<script src="{{ site.url }}/assets/js/search.js"></script>

<!-- jQuery Knob 旋钮插件 -->
<script src="{{ site.url }}/assets/js/plugins/knob/jquery.knob.js"></script>

<!-- toc 文章目录插件 -->
<script src="{{ site.url }}/assets/js/plugins/toc.js"></script>

<script src="{{ site.url }}/assets/js/plugins/highlight-9.4.0/highlight.pack.js"></script>

<!-- emojify js -->
<!--<script async src="{{ site.url }}/assets/js/plugins/emojify/js/emojify.min.js"></script>-->


<!-- 滚动条样式插件 -->
<script src="{{ site.url }}/assets/js/plugins/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>

<!-- 图像放大jQuery插件 https://github.com/fat/zoom.js -->
<script src="{{ site.url }}/assets/js/plugins/zoom/js/zoom.js"></script>

<!-- 网站计数插件 官网 ： http://ibruce.info/2015/04/04/busuanzi/ -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="{{ site.url }}/assets/js/blog.js"></script>

<!--滚动时toolbar的样式变更-->
<script type="text/javascript">

//改变navbar样式的函数
function toggleNavCollapse() {
    /** 判断匹配元素，top的偏移量 */
    50 < $(".navbar").offset().top ? $(".navbar-fixed-top").addClass("top-nav-collapse") : $(".navbar-fixed-top").removeClass("top-nav-collapse");

    /** 控制目录的显示与隐藏 */
    if($(".main-left")){
      $(".navbar").offset().top>$(".header-title").height() ? $(".main-left").css("display","") : $(".main-left").css("display","none");
    }

    $(".navbar").offset().top>$(".header-title").height() ? $("#results-container").addClass("search-font-color") : $("#results-container").removeClass("search-font-color");

}

/** 当dom载入时，操作绑定的函数 */
$(document).ready(function() {

   //初始化代码块JS库
   hljs.initHighlightingOnLoad();

   //Highligh 行号
   /*
   $('pre code').each(function(){
         var lines = $(this).text().split('\n').length - 1;
         var $numbering = $('<ul/>').addClass('pre-numbering');
         $(this)
             .addClass('has-numbering')
             .parent()
             .append($numbering);
         for(i=1;i<=lines;i++){
             $numbering.append($('<li/>').text(i));
         }
   });
   */



   //navbar样式的函数
   toggleNavCollapse();

   //初始化目录
   $('.toc').toc({showEffect: 'slideDown',listType: 'ul',title:'<strong>目录：</strong>'});

   //首页搜索框的图标
   document.getElementById('search-input').addEventListener("keyup",function(e) {
      if($("#search-input").val()===""){
        $(".search-input").addClass("search-input-icon");
      }else{
        $(".search-input").removeClass("search-input-icon");
      }
   });

   $(".search-input").dblclick(function(){
     alert(123);
   });

   /* 控制搜索框下拉列表的显示与隐藏 */
   $(".search-input").blur(function (){
      //失去焦点

      //$(".search-input").val("");
      //$(".search-input").addClass("search-input-icon");
      //$(".search-input").css("width","");
      //$("#results-container li").addClass("elementHide");
   });
   $(".search-input").focus(function(){
      //$(".search-input").css("width","210px");
      //$("#results-container li").removeClass("elementHide");
   });

   /*
   $(".header-title").mouseover(function(){
     $("#index-description").css("display","none");
   });
   $(".header-title").mouseout(function(){
     $("#index-description").css("display","");
   });
   */


   //emojify 表情,参考地址：http://hassankhan.me/emojify.js/
   /*
   emojify.setConfig({
        emoticons_enabled: true,
        people_enabled: true,
        nature_enabled: true
    });
    emojify.run();
    */

    /* 页面内滚动条样式 */
    $(window).on("load",function(){
        $(".hljs").mCustomScrollbar({
          axis: "x"//设置为横向滚动条
        });
    });



    $("a.page-scroll").bind("click",
    function(b) {
        var a = $(this);
        $("html, body").stop().animate({
            scrollTop: $(a.attr("href")).offset().top - 50
        },
        1500, "easeInOutExpo",
        function() {
            a.blur()
        });
        b.preventDefault()
    });

    //循环添加图片放大标签
    var imgArr = $(".entry-content").find("img")
    for (var i = 0; i < imgArr.length; i++) {
      $($(".entry-content").find("img")[i]).attr("data-action","zoom")
    }

});



//滚动时navbar的样式变更
$(window).scroll(toggleNavCollapse);

$(function() {

});

$(".navbar-collapse ul li a").click(function() {
    $(".navbar-toggle:visible").click()
});

</script>

<script type="text/javascript">
/*小工具*/
$(function () {
  /* jQueryKnob */
  $(".knob").knob({
    /*change : function (value) {
     //console.log("change : " + value);
     },
     release : function (value) {
     console.log("release : " + value);
     },
     cancel : function () {
     console.log("cancel : " + this.value);
     },*/
    readOnly:true,
    draw: function () {
      // "tron" case
      if (this.$.data('skin') == 'tron') {

        var a = this.angle(this.cv)  // Angle
                , sa = this.startAngle          // Previous start angle
                , sat = this.startAngle         // Start angle
                , ea                            // Previous end angle
                , eat = sat + a                 // End angle
                , r = true;

        this.g.lineWidth = this.lineWidth;

        this.o.cursor
                && (sat = eat - 0.3)
                && (eat = eat + 0.3);

        if (this.o.displayPrevious) {
          ea = this.startAngle + this.angle(this.value);
          this.o.cursor
                  && (sa = ea - 0.3)
                  && (ea = ea + 0.3);
          this.g.beginPath();
          this.g.strokeStyle = this.previousColor;
          this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sa, ea, false);
          this.g.stroke();
        }

        this.g.beginPath();
        this.g.strokeStyle = r ? this.o.fgColor : this.fgColor;
        this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sat, eat, false);
        this.g.stroke();

        this.g.lineWidth = 2;
        this.g.beginPath();
        this.g.strokeStyle = this.o.fgColor;
        this.g.arc(this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false);
        this.g.stroke();

        return false;
      }
    }
  });
  /* END JQUERY KNOB */
});

/** 小工具 */
(function(){

    //动态获取阅读百分比
    var Scroller={
        getById:function(id){
            return typeof id=='object'?id:document.getElementById(id);
        },
      	getByClass:function(className){
      		return typeof className=='object'?className:$('.'+className);
      	},
        getViewHeight:function(){
            return Math.min(document.documentElement.clientHeight,document.body.clientHeight);
        },
        getScrollTop:function(){
            return Math.max(document.documentElement.scrollTop,document.body.scrollTop);
        },
        getBound:function(id){
            var node=this.getById(id);
            if(node.getBoundingClientRect){
                var rect=node.getBoundingClientRect();
                return {
                    y:rect.top+this.getScrollTop(),
                    height:node.offsetHeight
                }
            }
        },
        bindEvent:function(id,type,fn){
            var me=this;
            var node=me.getById(id);
            if(node){
                if(node.attachEvent){
                    node.attachEvent('on'+type,fn);
                }else{
                    node.addEventListener(type,fn);
                }
            }
        },
        start:function(){
            var me=this;
            var rect=me.getBound('main');
            var vh=me.getViewHeight();
            var refHeight=rect.height-vh;
            var debug=me.getById('debug');
            me.bindEvent(window,'scroll',function(e){
                var stop=me.getScrollTop();
                var p=(stop-rect.y)/refHeight;
                if(p>=0&&p<=1){
                    //debug.innerHTML=(p*100).toFixed(2)+'%';
                    $('.knob').val((p*100).toFixed(2)).trigger('change');
                    $("#tools-id").css("display","");
                }else if(p<0){
                    //debug.innerHTML='0%';
                    $('.knob').val(0).trigger('change');
                    $("#tools-id").css("display","none");
                }else{
                    //debug.innerHTML='100%';
                    $('.knob').val(100).trigger('change');
                }
            });
            me.bindEvent(window,'resize',function(){
                vh=me.getViewHeight();
                refHeight=rect.height-vh;
            });
        }
    };
    Scroller.start();

    //返回顶部
    var scrollTop = $(document).scrollTop();
    $('#totop').click(function(){
           $('html, body').animate({scrollTop:0}, 500); return false;
    });


})();

</script>


<!--分享按钮-->
<script type="text/javascript">

$('#weibo-id').click(function() {
  (function(s, d, e) {
    try {

    } catch(e) {

    }
    var f = 'http://v.t.sina.com.cn/share/share.php?',
    u = '{{ site.url }}{{ page.url }}',
    p = ['url=', e(u), '&title=', e('{{ page.title }}'), '&appkey=2924220432'].join('');
    function a() {
      if (!window.open([f, p].join(''), 'mb', ['toolbar=0,status=0,resizable=1,width=620,height=450,left=', (s.width - 620) / 2, ',top=', (s.height - 450) / 2].join(''))) u.href = [f, p].join('');
    };
    if (/Firefox/.test(navigator.userAgent)) {
      setTimeout(a, 0)
    } else {
      a()
    }
  })(screen, document, encodeURIComponent);
  return false;
});

</script>


<!-- 添加评论 -->
{% include disqus_comments.html %}
{% if page.comments != false %}
{% endif %}
