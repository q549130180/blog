---
layout: post
title:  MySQL中 now() sysdate() curdate() 的区别
description: "MySQL中 now() sysdate() curdate() 的区别."
modified: 2018-07-09 15:20:20
tags: [MySQL]
post_type: developer
blogid: 201807090001
categories: [MySQL]
image:
  feature: posts_header/abstract-7.jpg
  credit:
  creditlink:
---

### 1. `now()` 返回当前日期和时间，格式如下：2018-06-12 13:02:21

```shell
mysql> select now(),sleep(5),now();
+---------------------+----------+---------------------+
| now()               | sleep(5) | now()               |
+---------------------+----------+---------------------+
| 2018-06-12 13:02:21 | 0        | 2018-06-12 13:02:21 |
+---------------------+----------+---------------------+
```

两个值相同，表示语句开始执行的时间。

### 2. `curdate()` 返回当前日期，格式如下：2018-06-12 

```shell
mysql> select curdate();
+------------+
| curdate()  |
+------------+
| 2018-06-12 |
+------------+
```

### 3. `curtime()`, 返回当前时间，格式如下：13:05:28

```shell
mysql> select curtime(),sleep(5),curtime();
+-----------+----------+-----------+
| curtime() | sleep(5) | curtime() |
+-----------+----------+-----------+
| 13:05:28  | 0        | 13:05:28  |
+-----------+----------+-----------+
```

两个值相同，都表示语句开始执行的时间。

### 4. `sysdate()` 返回当前日期和时间，格式：2018-06-12 13:07:06

```shell
mysql> select sysdate(),sleep(5),sysdate();
+---------------------+----------+---------------------+
| sysdate()           | sleep(5) | sysdate()           |
+---------------------+----------+---------------------+
| 2018-06-12 13:07:06 | 0        | 2018-06-12 13:07:11 |
+---------------------+----------+---------------------+
```

两个值不同，sysdate表示实时的系统时间。

`sysdate()` 和 `now()` 的区别，一般在执行SQL语句时，都是用 `now()`;

因为使用`sysdate()`时，有可能导致主库和从库执行时返回值不一样，导致主从数据库不一致。

```shell
mysql> select now(),curdate(),sysdate(),curtime();
+---------------------+------------+---------------------+-----------+
| now()               | curdate()  | sysdate()           | curtime() |
+---------------------+------------+---------------------+-----------+
| 2018-06-12 13:25:12 | 2018-06-12 | 2018-06-12 13:25:12 | 13:25:12  |
+---------------------+------------+---------------------+-----------+ 
```
